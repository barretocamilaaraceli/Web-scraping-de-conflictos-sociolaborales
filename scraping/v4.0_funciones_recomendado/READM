ğŸ§¾ README.md
ACLARACIÃ“N: Para complejizar la clasificaciÃ³n, se utiliza spaCy y necesita la versiÃ³n Python 3.11. Para este caso, como suelo utilizar Python 3.14 y es el que tengo activo, cree un environment en Conda para utilizar la v. 3.11.
# ğŸ§  Clasificador de Conflictos Laborales â€” Entre RÃ­os y Santa Fe

Este proyecto realiza la **extracciÃ³n, limpieza, anÃ¡lisis y clasificaciÃ³n semÃ¡ntica** de noticias sobre **conflictos laborales** en las provincias de **Entre RÃ­os** y **Santa Fe (Argentina)**.  
Integra procesamiento de lenguaje natural (NLP) con **spaCy**, detecciÃ³n territorial inteligente, y un flujo reproducible mediante **entornos Conda**.

> VersiÃ³n: **4.0 â€” IntegraciÃ³n spaCy y compatibilidad Conda**  
> Ãšltima actualizaciÃ³n: Diciembre 2025

---

## ğŸ¯ Objetivo general
Relevar noticias de medios locales y nacionales y clasificarlas segÃºn:
- Tipo de conflicto laboral (reivindicativo, defensivo, institucional, polÃ­tico-solidario, etc.)  
- Sector involucrado (educaciÃ³n, salud, transporte, industria, estatales, etc.)  
- LocalizaciÃ³n territorial (provincia, localidad, nivel institucional)
- Coocurrencia de actores, reclamos, acciones y repertorios de conflicto.

---

## ğŸ§  Enfoque metodolÃ³gico

El sistema combina **enfoque de reglas** (diccionarios temÃ¡ticos) con **procesamiento de lenguaje natural**:

| Etapa | DescripciÃ³n | TecnologÃ­a |
|--------|-------------|-------------|
| ğŸ” ExtracciÃ³n | Scraping de portales y feeds RSS (Entre RÃ­os y Santa Fe) | `BeautifulSoup`, `feedparser` |
| ğŸ§¹ Limpieza | UnificaciÃ³n y deduplicaciÃ³n por similitud textual | `rapidfuzz`, `pandas` |
| ğŸ§¾ ClasificaciÃ³n | DetecciÃ³n de tipo de conflicto y sector | Reglas + diccionarios JSON |
| ğŸ§­ Territorio | Inferencia territorial (por medio y texto) | spaCy NER + reglas |
| ğŸ§  NLP semÃ¡ntico | Reconocimiento de actores, lugares, instituciones | `spaCy` (modelo `es_core_news_md`) |

---

## ğŸ§© Novedades v4.0

| MÃ³dulo | Mejora implementada |
|---------|---------------------|
| ğŸ§  **spaCy** | IncorporaciÃ³n de anÃ¡lisis semÃ¡ntico, reconocimiento de entidades (lugares, instituciones, actores). |
| ğŸŒ **Territorial** | Nueva clasificaciÃ³n por provincia y localidad, con inferencia automÃ¡tica. |
| ğŸ§° **Entorno Conda** | Entorno `conflictos_py311` con Python 3.11 (ya que Python 3.14 no es compatible con spaCy). |
| ğŸ§¼ **DeduplicaciÃ³n** | Limpieza avanzada con RapidFuzz, priorizando noticias mÃ¡s recientes o completas. |
| ğŸ§¾ **Diccionarios extendidos** | AmpliaciÃ³n de lÃ©xico para cada tipo de conflicto y sector laboral. |

---

## âš ï¸ Requisitos previos

### ğŸ§± 1. Instalar [Miniconda](https://docs.conda.io/en/latest/miniconda.html)
Durante la instalaciÃ³n:
- âœ… Seleccionar â€œAdd Miniconda to PATHâ€
- âœ… Seleccionar â€œRegister Miniconda as my default Pythonâ€

Esto permite crear entornos independientes (sin conflicto con Python 3.14 o versiones globales).

---

## ğŸ§° ConfiguraciÃ³n del entorno

### 1ï¸âƒ£ Crear entorno Conda

```bash
conda create -n conflictos_py311 python=3.11
conda activate conflictos_py311


ğŸ§  Se usa Python 3.11 porque spaCy no es compatible con Python 3.14 (error de thinc y numpy_ops).

2ï¸âƒ£ Instalar dependencias
pip install --upgrade pip
pip install pandas numpy==1.26.4 spacy==3.7.4 rapidfuzz==3.10.1 dateparser==1.2.0
pip install google-search-results feedparser beautifulsoup4 requests

3ï¸âƒ£ Instalar el modelo de spaCy en espaÃ±ol
python -m spacy download es_core_news_md


âš ï¸ Si este comando arroja error 404, instalar manualmente:

pip install https://github.com/explosion/spacy-models/releases/download/es_core_news_md-3.7.0/es_core_news_md-3.7.0.tar.gz

4ï¸âƒ£ Verificar instalaciÃ³n
python -m spacy validate


Si todo estÃ¡ correcto, verÃ¡s:

âœ” Loaded pipeline 'es_core_news_md'
âœ” spaCy installation successful

ğŸ§­ ConfiguraciÃ³n en VS Code

Abrir el proyecto:
C:\Users\camil\OneDrive\Desktop\ConflictoER

Instalar la extensiÃ³n Python (by Microsoft)

Seleccionar intÃ©rprete:
En la barra inferior â†’
conda (conflictos_py311)
o manualmente:
C:\Users\camil\miniconda3\envs\conflictos_py311\python.exe

(Opcional pero recomendado)
Crear el archivo .vscode/settings.json:

{
    "python.defaultInterpreterPath": "C:\\Users\\camil\\miniconda3\\envs\\conflictos_py311\\python.exe",
    "python.analysis.extraPaths": [
        "C:\\Users\\camil\\miniconda3\\envs\\conflictos_py311\\Lib\\site-packages"
    ],
    "python.terminal.activateEnvironment": true
}


Con esto, VS Code recordarÃ¡ automÃ¡ticamente el entorno correcto.

ğŸš€ EjecuciÃ³n del proyecto
1ï¸âƒ£ Activar entorno
conda activate conflictos_py311

2ï¸âƒ£ Ir a la carpeta del proyecto
cd "C:\Users\camil\OneDrive\Desktop\ConflictoER"

3ï¸âƒ£ Ejecutar scripts
ğŸ”¹ Scraping histÃ³rico / actual
python scrapingersf.py

ğŸ”¹ DeduplicaciÃ³n
python deduplicador.py

ğŸ”¹ ClasificaciÃ³n
python clasificador_conflictos.py

ğŸ“‚ Estructura del proyecto
ConflictoER/
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ Bases de datos originales/
â”‚   â”‚   â”œâ”€â”€ historico_entrerios.csv
â”‚   â”‚   â”œâ”€â”€ historico_santafe.csv
â”‚   â”‚   â”œâ”€â”€ historico_nacionales.csv
â”‚   â”‚   â””â”€â”€ conflictos_limpios.csv
â”‚   â””â”€â”€ conflictos_clasificados.csv
â”‚
â”œâ”€â”€ clasificador_conflictos.py
â”œâ”€â”€ deduplicador.py
â”œâ”€â”€ scrapingersf.py
â”œâ”€â”€ setup_env_spacy.bat
â”œâ”€â”€ install_requirements.bat
â”œâ”€â”€ run_clasificador.bat
â””â”€â”€ README.md

âš™ï¸ Scripts auxiliares
Script	FunciÃ³n
setup_env_spacy.bat	Crea el entorno Conda conflictos_py311, instala spaCy y dependencias.
install_requirements.bat	Instala librerÃ­as necesarias dentro del entorno activo.
deduplicador.py	Elimina duplicados exactos y similares en CSV de medios.
clasificador_conflictos.py	Clasifica por tipo, sector y territorio (con spaCy).
scrapingersf.py	Releva medios de ER y SF (y nacionales).
run_clasificador.bat	Ejecuta el clasificador automÃ¡ticamente con entorno correcto.
ğŸ§  Funcionalidades principales
ğŸ—ï¸ ExtracciÃ³n de noticias

Recolecta artÃ­culos de medios locales y nacionales mediante scraping o RSS.

Guarda tÃ­tulos, cuerpos, fechas, y fuentes en CSV.

ğŸ§¹ Limpieza y deduplicaciÃ³n

Identifica duplicados por UID (tÃ­tulo + medio).

Usa similitud difusa (RapidFuzz) para detectar duplicados semÃ¡nticos.

Combina datasets histÃ³ricos.

ğŸ§© ClasificaciÃ³n

Aplica reglas temÃ¡ticas:
Reivindicativo, Defensivo, Institucional, PolÃ­tico-solidario.

Detecta sectores laborales (educaciÃ³n, salud, transporte, industria, etc.).

Determina el territorio segÃºn texto y medio (Santa Fe / Entre RÃ­os).

Etiqueta noticias con actores, acciones y reclamos.

ğŸ§  Procesamiento semÃ¡ntico (spaCy)

Reconoce entidades geogrÃ¡ficas y organizacionales.

Permite refinar la clasificaciÃ³n territorial y contextual.

Facilita el anÃ¡lisis posterior de actores y conflictos.

ğŸ’¬ Errores comunes y soluciones
Error	Causa	SoluciÃ³n
ImportError: DLL load failed while importing numpy_ops	spaCy no soporta Python 3.14	Usar Conda con Python 3.11
Import "spacy" could not be resolved	VS Code no usa el entorno correcto	Seleccionar conflictos_py311 como intÃ©rprete
No module named 'pandas'	Dependencias no instaladas	Ejecutar install_requirements.bat
404 while downloading es_core_news_md	Error de URL spaCy	Instalar modelo manualmente desde GitHub
ğŸŒ Portabilidad y replicaciÃ³n

PodÃ©s exportar el entorno para compartir o reproducirlo:

conda env export > environment.yml


Y recrearlo en otro equipo con:

conda env create -f environment.yml
conda activate conflictos_py311

ğŸ”¬ TecnologÃ­as
Herramienta	VersiÃ³n	Uso
Python	3.11	Lenguaje principal
spaCy	3.7.4	Procesamiento NLP
pandas	2.2+	Manejo de datos
rapidfuzz	3.10+	Similitud textual
numpy	1.26	CÃ¡lculos base
BeautifulSoup4	4.12	Scraping
feedparser	6.0	RSS
dateparser	1.2	Fechas naturales
SerpAPI (opcional)	â€”	Noticias histÃ³ricas
ğŸ“œ Licencia

----
Este proyecto es de uso libre con atribuciÃ³n.
Creado con fines acadÃ©micos y de investigaciÃ³n sobre conflictos laborales.

Desarrollado por:
ğŸ§â€â™€ï¸ Camila Barreto

Asistencia tÃ©cnica: GPT-5 (Python + NLP)
